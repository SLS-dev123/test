<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#e34f26">
    <meta name="description" content="Cameroonian Kitchen Recipe Finder - Discover authentic Cameroonian meals using ingredients you have at home">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <title>Cameroonian Kitchen Recipe Finder</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f5f0;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background-color: #e34f26;
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .flag-colors {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 10px;
        }
        
        .flag-color {
            height: 8px;
            width: 60px;
        }
        
        .green { background-color: #007a5e; }
        .red { background-color: #ce1126; }
        .yellow { background-color: #fcd116; }
        
        .download-btn-container {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        #download-app {
            background-color: #007a5e;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
        }
        
        #download-app:hover {
            background-color: #005c47;
            transform: translateY(-2px);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .download-btn-container {
                position: static;
                margin-top: 20px;
                display: flex;
                justify-content: center;
            }
        }
        
        .ingredient-section {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #e34f26;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        
        .ingredient-categories {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .ingredient-item {
            background-color: #f8f5f0;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .ingredient-item:hover {
            transform: translateY(-3px);
        }
        
        .ingredient-item.selected {
            background-color: #e34f26;
            color: white;
        }
        
        .ingredient-item i {
            font-size: 0.9rem;
        }
        
        .selected-ingredients {
            background-color: #f8f5f0;
            padding: 20px;
            border-radius: 10px;
            min-height: 150px;
            margin-top: 20px;
        }
        
        .selected-ingredients h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        #selected-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .selected-tag {
            background-color: #007a5e;
            color: white;
            padding: 8px 15px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .selected-tag i {
            cursor: pointer;
        }
        
        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            flex: 1;
        }
        
        #find-recipes {
            background-color: #e34f26;
            color: white;
        }
        
        #find-recipes:hover {
            background-color: #c4411f;
        }
        
        #clear-all {
            background-color: #f0f0f0;
            color: #333;
        }
        
        #clear-all:hover {
            background-color: #ddd;
        }
        
        .recipes-section {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .recipe-card {
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }
        
        .recipe-card:hover {
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .recipe-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .recipe-title {
            font-size: 1.5rem;
            color: #e34f26;
        }
        
        .match-badge {
            background-color: #007a5e;
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
        }
        
        .recipe-ingredients {
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .ingredient-badge {
            padding: 5px 12px;
            border-radius: 50px;
            font-size: 0.9rem;
        }
        
        .have-ingredient {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .missing-ingredient {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .recipe-details {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .recipe-details h4 {
            margin-bottom: 10px;
            color: #333;
        }
        
        .recipe-details ol, .recipe-details ul {
            padding-left: 20px;
        }
        
        .recipe-details li {
            margin-bottom: 8px;
        }
        
        .hidden {
            display: none;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            border-top: 1px solid #eee;
        }
        
        .no-recipes {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }
        
        .no-recipes i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #ccc;
        }
        
        .recipe-image {
            width: 100%;
            height: 200px;
            background-color: #f5f5f5;
            border-radius: 8px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .recipe-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Modal for download instructions */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: #e34f26;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .modal-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .step-number {
            background-color: #e34f26;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .step-content h4 {
            margin-bottom: 5px;
        }
        
        .download-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .option-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .option-btn.primary {
            background-color: #e34f26;
            color: white;
        }
        
        .option-btn.secondary {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        /* Install banner */
        .install-banner {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #007a5e;
            color: white;
            padding: 15px 20px;
            z-index: 999;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .install-banner-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .install-banner button {
            background-color: white;
            color: #007a5e;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: 600;
            flex: 0 0 auto;
        }
        
        @media (max-width: 768px) {
            .install-banner-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Install banner (shown on mobile) -->
    <div class="install-banner" id="installBanner">
        <div class="install-banner-content">
            <div>
                <h4>Install Cameroonian Kitchen App</h4>
                <p>Get quick access to recipes on your home screen</p>
            </div>
            <button id="installAppBtn">Install App</button>
        </div>
    </div>
    
    <!-- Modal for download instructions -->
    <div class="modal" id="downloadModal" style="display: flex;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Install on Your Android Phone</h3>
                <button class="close-modal" id="closeModal">×</button>
            </div>
            
            <div class="modal-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Save This App</h4>
                    <p>Click the "Save as App" button below to download all files as a ZIP archive.</p>
                </div>
            </div>
            
            <div class="modal-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h4>Extract the Files</h4>
                    <p>Unzip the downloaded file to a folder on your phone or computer.</p>
                </div>
            </div>
            
            <div class="modal-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h4>Install on Android</h4>
                    <p><strong>Option A:</strong> Open the <code>index.html</code> file in Chrome, tap the menu (⋮) and select "Add to Home screen".</p>
                    <p><strong>Option B:</strong> Use a PWA wrapper app like "PWA Builder" or "WebApp" from the Play Store to package the app.</p>
                </div>
            </div>
            
            <div class="download-options">
                <button class="option-btn primary" id="saveAsAppBtn">
                    <i class="fas fa-download"></i> Save as App (ZIP)
                </button>
                <button class="option-btn secondary" id="saveHTMLBtn">
                    <i class="fas fa-file-code"></i> Save HTML Only
                </button>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <div class="download-btn-container">
                <button id="download-app">
                    <i class="fas fa-download"></i> Install App
                </button>
            </div>
            
            <h1>Cameroonian Kitchen Recipe Finder</h1>
            <p>Select ingredients you have in your kitchen to discover authentic Cameroonian meals you can prepare</p>
            <div class="flag-colors">
                <div class="flag-color green"></div>
                <div class="flag-color red"></div>
                <div class="flag-color yellow"></div>
            </div>
        </header>
        
        <div class="main-content">
            <section class="ingredient-section">
                <h2 class="section-title">What's in Your Kitchen?</h2>
                <p>Select the ingredients you have available:</p>
                
                <div class="ingredient-categories">
                    <!-- Ingredients will be dynamically added here -->
                <div><h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">vegetables</h4></div><div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"><div class="ingredient-item" data-name="onions">
                        <i class="fas fa-onion"></i>
                        <span>onions</span>
                    </div><div class="ingredient-item" data-name="garlic">
                        <i class="fas fa-garlic"></i>
                        <span>garlic</span>
                    </div><div class="ingredient-item" data-name="ginger">
                        <i class="fas fa-root"></i>
                        <span>ginger</span>
                    </div><div class="ingredient-item" data-name="tomatoes">
                        <i class="fas fa-apple-alt"></i>
                        <span>tomatoes</span>
                    </div><div class="ingredient-item" data-name="plantains">
                        <i class="fas fa-banana"></i>
                        <span>plantains</span>
                    </div><div class="ingredient-item" data-name="cassava">
                        <i class="fas fa-root"></i>
                        <span>cassava</span>
                    </div><div class="ingredient-item" data-name="cocoyam">
                        <i class="fas fa-root"></i>
                        <span>cocoyam</span>
                    </div><div class="ingredient-item" data-name="carrots">
                        <i class="fas fa-carrot"></i>
                        <span>carrots</span>
                    </div><div class="ingredient-item" data-name="green beans">
                        <i class="fas fa-seedling"></i>
                        <span>green beans</span>
                    </div><div class="ingredient-item" data-name="waterleaf">
                        <i class="fas fa-leaf"></i>
                        <span>waterleaf</span>
                    </div><div class="ingredient-item" data-name="bitterleaf (ndolé)">
                        <i class="fas fa-leaf"></i>
                        <span>bitterleaf (ndolé)</span>
                    </div><div class="ingredient-item" data-name="eru leaves">
                        <i class="fas fa-leaf"></i>
                        <span>eru leaves</span>
                    </div><div class="ingredient-item" data-name="banana leaves">
                        <i class="fas fa-leaf"></i>
                        <span>banana leaves</span>
                    </div></div><div><h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">oils</h4></div><div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"><div class="ingredient-item" data-name="palm oil">
                        <i class="fas fa-oil-can"></i>
                        <span>palm oil</span>
                    </div><div class="ingredient-item" data-name="vegetable oil">
                        <i class="fas fa-oil-can"></i>
                        <span>vegetable oil</span>
                    </div></div><div><h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">proteins</h4></div><div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"><div class="ingredient-item" data-name="beef">
                        <i class="fas fa-drumstick-bite"></i>
                        <span>beef</span>
                    </div><div class="ingredient-item" data-name="chicken">
                        <i class="fas fa-drumstick-bite"></i>
                        <span>chicken</span>
                    </div><div class="ingredient-item" data-name="fish">
                        <i class="fas fa-fish"></i>
                        <span>fish</span>
                    </div><div class="ingredient-item" data-name="shrimp">
                        <i class="fas fa-shrimp"></i>
                        <span>shrimp</span>
                    </div><div class="ingredient-item" data-name="crayfish">
                        <i class="fas fa-shrimp"></i>
                        <span>crayfish</span>
                    </div><div class="ingredient-item" data-name="cow skin">
                        <i class="fas fa-drumstick-bite"></i>
                        <span>cow skin</span>
                    </div><div class="ingredient-item" data-name="smoked fish">
                        <i class="fas fa-fish"></i>
                        <span>smoked fish</span>
                    </div></div><div><h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">grains</h4></div><div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"><div class="ingredient-item" data-name="rice">
                        <i class="fas fa-wheat"></i>
                        <span>rice</span>
                    </div><div class="ingredient-item" data-name="corn">
                        <i class="fas fa-wheat"></i>
                        <span>corn</span>
                    </div></div><div><h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">legumes</h4></div><div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"><div class="ingredient-item" data-name="peanuts">
                        <i class="fas fa-seedling"></i>
                        <span>peanuts</span>
                    </div><div class="ingredient-item" data-name="black-eyed beans">
                        <i class="fas fa-seedling"></i>
                        <span>black-eyed beans</span>
                    </div></div><div><h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">seasonings</h4></div><div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;"><div class="ingredient-item" data-name="maggi">
                        <i class="fas fa-mortar-pestle"></i>
                        <span>maggi</span>
                    </div><div class="ingredient-item" data-name="pepper">
                        <i class="fas fa-pepper-hot"></i>
                        <span>pepper</span>
                    </div><div class="ingredient-item" data-name="salt">
                        <i class="fas fa-mortar-pestle"></i>
                        <span>salt</span>
                    </div><div class="ingredient-item" data-name="mbongo spice">
                        <i class="fas fa-pepper-hot"></i>
                        <span>mbongo spice</span>
                    </div><div class="ingredient-item" data-name="limestone (kanwa)">
                        <i class="fas fa-mortar-pestle"></i>
                        <span>limestone (kanwa)</span>
                    </div></div></div>
                
                <div class="selected-ingredients">
                    <h3>Selected Ingredients:</h3>
                    <div id="selected-list">
                        <!-- Selected ingredients will appear here -->
                    </div>
                </div>
                
                <div class="buttons">
                    <button id="find-recipes"><i class="fas fa-utensils"></i> Find Cameroonian Recipes</button>
                    <button id="clear-all"><i class="fas fa-trash-alt"></i> Clear All</button>
                </div>
            </section>
            
            <section class="recipes-section">
                <h2 class="section-title">Recommended Cameroonian Recipes</h2>
                <div id="recipes-container">
                    <!-- Recipe cards will be dynamically added here -->
                    <div class="no-recipes" id="no-recipes-message">
                        <i class="fas fa-pot-food"></i>
                        <h3>No recipes yet</h3>
                        <p>Select ingredients from your kitchen and click "Find Cameroonian Recipes" to see what you can make!</p>
                    </div>
                </div>
            </section>
        </div>
        
        <footer>
            <p>Cameroonian Kitchen Recipe Finder • Discover delicious meals from Cameroon using what you have at home</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">Install this app on your Android phone for offline access</p>
        </footer>
    </div>

    <script>
        // Cameroonian recipes database
        const cameroonianRecipes = [
            {
                id: 1,
                name: "Ndolé",
                description: "The national dish of Cameroon, made with bitterleaf, peanuts, and meat or fish.",
                ingredients: ["bitterleaf (ndolé)", "peanuts", "beef", "shrimp", "palm oil", "onions", "garlic", "ginger", "crayfish", "maggi"],
                instructions: [
                    "Boil the bitterleaf for 20 minutes to reduce bitterness, then drain.",
                    "Blend peanuts with crayfish to form a paste.",
                    "Cook beef with onions, garlic, and ginger until tender.",
                    "Add palm oil, peanut paste, and bitterleaf to the pot.",
                    "Add shrimp and season with maggi. Simmer for 30 minutes.",
                    "Serve with plantains, rice, or boiled yams."
                ],
                matchPercentage: 0,
                image: "ndole"
            },
            {
                id: 2,
                name: "Poulet DG",
                description: "A celebratory chicken and plantain dish that's both sweet and savory.",
                ingredients: ["chicken", "plantains", "carrots", "green beans", "onions", "tomatoes", "garlic", "ginger", "vegetable oil", "maggi"],
                instructions: [
                    "Season chicken with garlic, ginger, salt, and pepper. Fry until golden.",
                    "Fry sliced plantains until caramelized.",
                    "In a separate pan, sauté onions, tomatoes, carrots, and green beans.",
                    "Combine chicken and vegetables, add seasonings, and cook for 10 minutes.",
                    "Add fried plantains and gently mix. Cook for another 5 minutes.",
                    "Serve hot with rice or boiled potatoes."
                ],
                matchPercentage: 0,
                image: "pouletdg"
            },
            {
                id: 3,
                name: "Achu Soup",
                description: "A traditional yellow soup served with pounded cocoyam.",
                ingredients: ["cocoyam", "palm oil", "beef", "cow skin", "limestone (kanwa)", "onions", "garlic", "ginger", "maggi"],
                instructions: [
                    "Boil cocoyam until soft, then peel and pound into a smooth paste.",
                    "Dissolve limestone in water to create kanwa solution.",
                    "Cook beef and cow skin with onions, garlic, and ginger until tender.",
                    "Add palm oil and kanwa solution to the meat to create the yellow soup.",
                    "Season with salt, pepper, and maggi to taste.",
                    "Serve the soup with balls of pounded cocoyam."
                ],
                matchPercentage: 0,
                image: "achu"
            },
            {
                id: 4,
                name: "Koki Beans",
                description: "Steamed bean pudding made with black-eyed peas and palm oil.",
                ingredients: ["black-eyed beans", "palm oil", "onions", "pepper", "banana leaves", "maggi"],
                instructions: [
                    "Soak black-eyed beans overnight, then peel off the skins.",
                    "Blend beans with onions and pepper to form a smooth paste.",
                    "Add palm oil, salt, and maggi to the paste and mix well.",
                    "Wrap portions of the mixture in banana leaves.",
                    "Steam the parcels for 1-2 hours until firm.",
                    "Serve warm with plantains or bread."
                ],
                matchPercentage: 0,
                image: "koki"
            },
            {
                id: 5,
                name: "Eru",
                description: "A delicious vegetable soup made with eru leaves and waterleaf.",
                ingredients: ["eru leaves", "waterleaf", "palm oil", "crayfish", "beef", "smoked fish", "onions", "garlic", "maggi"],
                instructions: [
                    "Wash and chop eru leaves and waterleaf.",
                    "Cook beef with onions and garlic until tender.",
                    "Add palm oil, crayfish, and smoked fish to the pot.",
                    "Add the vegetables and simmer for 20 minutes.",
                    "Season with salt, pepper, and maggi to taste.",
                    "Serve with garri, fufu, or boiled yams."
                ],
                matchPercentage: 0,
                image: "eru"
            },
            {
                id: 6,
                name: "Mbongo Tchobi",
                description: "A spicy black stew made with mbongo spice and meat or fish.",
                ingredients: ["mbongo spice", "beef or fish", "tomatoes", "onions", "garlic", "ginger", "vegetable oil", "maggi"],
                instructions: [
                    "Grind mbongo seeds to make the black spice powder.",
                    "Season meat or fish with garlic, ginger, and salt.",
                    "Blend tomatoes, onions, and peppers to make a sauce.",
                    "Heat oil in a pot and add the tomato sauce. Cook for 10 minutes.",
                    "Add mbongo spice and meat/fish. Simmer until meat is tender.",
                    "Serve with plantains, rice, or boiled root vegetables."
                ],
                matchPercentage: 0,
                image: "mbongo"
            },
            {
                id: 7,
                name: "Corn Chaff",
                description: "A hearty corn and bean stew with meat and fish.",
                ingredients: ["corn", "beans", "palm oil", "beef", "fish", "onions", "garlic", "ginger", "waterleaf", "maggi"],
                instructions: [
                    "Soak corn and beans overnight, then boil until tender.",
                    "Cook beef with onions, garlic, and ginger until done.",
                    "Add palm oil, fish, and the corn-bean mixture to the pot.",
                    "Add chopped waterleaf and simmer for 20 minutes.",
                    "Season with salt, pepper, and maggi to taste.",
                    "Serve hot as a complete meal."
                ],
                matchPercentage: 0,
                image: "cornchaff"
            },
            {
                id: 8,
                name: "Bobolo",
                description: "Fermented cassava sticks steamed in banana leaves.",
                ingredients: ["cassava", "banana leaves", "salt"],
                instructions: [
                    "Peel and grate cassava, then allow to ferment for 2-3 days.",
                    "Wrap the fermented cassava paste in banana leaves.",
                    "Steam the parcels for 1-2 hours until firm.",
                    "Allow to cool before unwrapping.",
                    "Serve with grilled fish, sauce, or stew."
                ],
                matchPercentage: 0,
                image: "bobolo"
            }
        ];

        // Common ingredients for Cameroonian cooking
        const commonIngredients = [
            { name: "onions", category: "vegetables", icon: "fas fa-onion" },
            { name: "garlic", category: "vegetables", icon: "fas fa-garlic" },
            { name: "ginger", category: "vegetables", icon: "fas fa-root" },
            { name: "tomatoes", category: "vegetables", icon: "fas fa-apple-alt" },
            { name: "palm oil", category: "oils", icon: "fas fa-oil-can" },
            { name: "vegetable oil", category: "oils", icon: "fas fa-oil-can" },
            { name: "beef", category: "proteins", icon: "fas fa-drumstick-bite" },
            { name: "chicken", category: "proteins", icon: "fas fa-drumstick-bite" },
            { name: "fish", category: "proteins", icon: "fas fa-fish" },
            { name: "shrimp", category: "proteins", icon: "fas fa-shrimp" },
            { name: "plantains", category: "vegetables", icon: "fas fa-banana" },
            { name: "rice", category: "grains", icon: "fas fa-wheat" },
            { name: "peanuts", category: "legumes", icon: "fas fa-seedling" },
            { name: "black-eyed beans", category: "legumes", icon: "fas fa-seedling" },
            { name: "corn", category: "grains", icon: "fas fa-wheat" },
            { name: "cassava", category: "vegetables", icon: "fas fa-root" },
            { name: "cocoyam", category: "vegetables", icon: "fas fa-root" },
            { name: "carrots", category: "vegetables", icon: "fas fa-carrot" },
            { name: "green beans", category: "vegetables", icon: "fas fa-seedling" },
            { name: "crayfish", category: "proteins", icon: "fas fa-shrimp" },
            { name: "maggi", category: "seasonings", icon: "fas fa-mortar-pestle" },
            { name: "pepper", category: "seasonings", icon: "fas fa-pepper-hot" },
            { name: "salt", category: "seasonings", icon: "fas fa-mortar-pestle" },
            { name: "waterleaf", category: "vegetables", icon: "fas fa-leaf" },
            { name: "bitterleaf (ndolé)", category: "vegetables", icon: "fas fa-leaf" },
            { name: "eru leaves", category: "vegetables", icon: "fas fa-leaf" },
            { name: "banana leaves", category: "vegetables", icon: "fas fa-leaf" },
            { name: "cow skin", category: "proteins", icon: "fas fa-drumstick-bite" },
            { name: "smoked fish", category: "proteins", icon: "fas fa-fish" },
            { name: "mbongo spice", category: "seasonings", icon: "fas fa-pepper-hot" },
            { name: "limestone (kanwa)", category: "seasonings", icon: "fas fa-mortar-pestle" }
        ];

        // Selected ingredients array
        let selectedIngredients = [];
        
        // PWA installation variables
        let deferredPrompt;

        // DOM elements
        const ingredientCategoriesEl = document.querySelector('.ingredient-categories');
        const selectedListEl = document.getElementById('selected-list');
        const findRecipesBtn = document.getElementById('find-recipes');
        const clearAllBtn = document.getElementById('clear-all');
        const recipesContainerEl = document.getElementById('recipes-container');
        const noRecipesMessage = document.getElementById('no-recipes-message');
        const downloadAppBtn = document.getElementById('download-app');
        const downloadModal = document.getElementById('downloadModal');
        const closeModalBtn = document.getElementById('closeModal');
        const saveAsAppBtn = document.getElementById('saveAsAppBtn');
        const saveHTMLBtn = document.getElementById('saveHTMLBtn');
        const installBanner = document.getElementById('installBanner');
        const installAppBtn = document.getElementById('installAppBtn');

        // Initialize the app
        function init() {
            renderIngredientOptions();
            setupEventListeners();
            checkPWAInstallation();
        }

        // Render ingredient options
        function renderIngredientOptions() {
            // Group ingredients by category
            const categories = {};
            commonIngredients.forEach(ingredient => {
                if (!categories[ingredient.category]) {
                    categories[ingredient.category] = [];
                }
                categories[ingredient.category].push(ingredient);
            });
            
            // Create HTML for each category
            for (const category in categories) {
                const categoryDiv = document.createElement('div');
                categoryDiv.innerHTML = `<h4 style="margin: 15px 0 10px; color: #e34f26; text-transform: capitalize;">${category}</h4>`;
                ingredientCategoriesEl.appendChild(categoryDiv);
                
                const ingredientsDiv = document.createElement('div');
                ingredientsDiv.style.display = 'flex';
                ingredientsDiv.style.flexWrap = 'wrap';
                ingredientsDiv.style.gap = '10px';
                ingredientsDiv.style.marginBottom = '15px';
                
                categories[category].forEach(ingredient => {
                    const ingredientEl = document.createElement('div');
                    ingredientEl.className = 'ingredient-item';
                    ingredientEl.innerHTML = `
                        <i class="${ingredient.icon}"></i>
                        <span>${ingredient.name}</span>
                    `;
                    ingredientEl.dataset.name = ingredient.name;
                    ingredientEl.addEventListener('click', () => toggleIngredient(ingredient.name));
                    ingredientsDiv.appendChild(ingredientEl);
                });
                
                ingredientCategoriesEl.appendChild(ingredientsDiv);
            }
        }

        // Toggle ingredient selection
        function toggleIngredient(ingredientName) {
            const index = selectedIngredients.indexOf(ingredientName);
            
            if (index === -1) {
                // Add ingredient
                selectedIngredients.push(ingredientName);
            } else {
                // Remove ingredient
                selectedIngredients.splice(index, 1);
            }
            
            updateSelectedIngredientsDisplay();
            updateIngredientButtons();
        }

        // Update the selected ingredients display
        function updateSelectedIngredientsDisplay() {
            selectedListEl.innerHTML = '';
            
            if (selectedIngredients.length === 0) {
                selectedListEl.innerHTML = '<p style="color: #666; font-style: italic;">No ingredients selected yet</p>';
                return;
            }
            
            selectedIngredients.forEach(ingredient => {
                const tag = document.createElement('div');
                tag.className = 'selected-tag';
                tag.innerHTML = `
                    <span>${ingredient}</span>
                    <i class="fas fa-times" data-name="${ingredient}"></i>
                `;
                selectedListEl.appendChild(tag);
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.selected-tag i').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    const ingredientName = e.target.dataset.name;
                    removeIngredient(ingredientName);
                });
            });
        }

        // Remove a specific ingredient
        function removeIngredient(ingredientName) {
            const index = selectedIngredients.indexOf(ingredientName);
            if (index !== -1) {
                selectedIngredients.splice(index, 1);
                updateSelectedIngredientsDisplay();
                updateIngredientButtons();
            }
        }

        // Update ingredient buttons visual state
        function updateIngredientButtons() {
            document.querySelectorAll('.ingredient-item').forEach(button => {
                const ingredientName = button.dataset.name;
                if (selectedIngredients.includes(ingredientName)) {
                    button.classList.add('selected');
                } else {
                    button.classList.remove('selected');
                }
            });
        }

        // Find recipes based on selected ingredients
        function findRecipes() {
            if (selectedIngredients.length === 0) {
                alert("Please select some ingredients first!");
                return;
            }
            
            // Calculate match percentage for each recipe
            const recipesWithMatches = cameroonianRecipes.map(recipe => {
                const recipeIngredients = recipe.ingredients;
                let matchCount = 0;
                
                recipeIngredients.forEach(ingredient => {
                    // Check if the ingredient or a similar one is selected
                    if (selectedIngredients.some(selected => 
                        ingredient.toLowerCase().includes(selected.toLowerCase()) || 
                        selected.toLowerCase().includes(ingredient.toLowerCase()))) {
                        matchCount++;
                    }
                });
                
                const matchPercentage = Math.round((matchCount / recipeIngredients.length) * 100);
                
                return {
                    ...recipe,
                    matchPercentage
                };
            });
            
            // Filter recipes with at least 40% match
            const matchingRecipes = recipesWithMatches.filter(recipe => recipe.matchPercentage >= 40);
            
            // Sort by match percentage (highest first)
            matchingRecipes.sort((a, b) => b.matchPercentage - a.matchPercentage);
            
            // Display recipes
            displayRecipes(matchingRecipes);
        }

        // Display recipes in the UI
        function displayRecipes(recipes) {
            recipesContainerEl.innerHTML = '';
            
            if (recipes.length === 0) {
                noRecipesMessage.classList.remove('hidden');
                recipesContainerEl.appendChild(noRecipesMessage);
                return;
            }
            
            noRecipesMessage.classList.add('hidden');
            
            recipes.forEach(recipe => {
                const recipeCard = document.createElement('div');
                recipeCard.className = 'recipe-card';
                
                // Determine which ingredients are available and which are missing
                const availableIngredients = [];
                const missingIngredients = [];
                
                recipe.ingredients.forEach(ingredient => {
                    const isAvailable = selectedIngredients.some(selected => 
                        ingredient.toLowerCase().includes(selected.toLowerCase()) || 
                        selected.toLowerCase().includes(ingredient.toLowerCase()));
                    
                    if (isAvailable) {
                        availableIngredients.push(ingredient);
                    } else {
                        missingIngredients.push(ingredient);
                    }
                });
                
                // Create image placeholder based on recipe name
                const imageColors = ["#e34f26", "#007a5e", "#fcd116", "#6a4c93", "#1982c4", "#8ac926"];
                const colorIndex = recipe.id % imageColors.length;
                const bgColor = imageColors[colorIndex];
                
                recipeCard.innerHTML = `
                    <div class="recipe-image">
                        <div style="width:100%; height:100%; background-color:${bgColor}; display:flex; align-items:center; justify-content:center; color:white; font-size:3rem;">
                            <i class="fas fa-utensils"></i>
                        </div>
                    </div>
                    <div class="recipe-header">
                        <h3 class="recipe-title">${recipe.name}</h3>
                        <div class="match-badge">${recipe.matchPercentage}% Match</div>
                    </div>
                    <p>${recipe.description}</p>
                    
                    <div class="recipe-ingredients">
                        <h4>Ingredients:</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px;">
                            ${availableIngredients.map(ing => 
                                `<span class="ingredient-badge have-ingredient">${ing} <i class="fas fa-check"></i></span>`
                            ).join('')}
                            ${missingIngredients.map(ing => 
                                `<span class="ingredient-badge missing-ingredient">${ing} <i class="fas fa-times"></i></span>`
                            ).join('')}
                        </div>
                    </div>
                    
                    <div class="recipe-details">
                        <h4>Preparation:</h4>
                        <ol>
                            ${recipe.instructions.map(step => `<li>${step}</li>`).join('')}
                        </ol>
                    </div>
                `;
                
                recipesContainerEl.appendChild(recipeCard);
            });
        }

        // Clear all selected ingredients
        function clearAllIngredients() {
            selectedIngredients = [];
            updateSelectedIngredientsDisplay();
            updateIngredientButtons();
            
            // Reset recipes display
            recipesContainerEl.innerHTML = '';
            noRecipesMessage.classList.remove('hidden');
            recipesContainerEl.appendChild(noRecipesMessage);
        }

        // Check if PWA can be installed
        function checkPWAInstallation() {
            // Check if the app is already installed
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('App is running as PWA');
                installBanner.style.display = 'none';
            }
            
            // Listen for beforeinstallprompt event
            window.addEventListener('beforeinstallprompt', (e) => {
                // Prevent the mini-infobar from appearing on mobile
                e.preventDefault();
                // Stash the event so it can be triggered later
                deferredPrompt = e;
                // Show the install banner
                installBanner.style.display = 'block';
            });
            
            // Listen for app installed event
            window.addEventListener('appinstalled', () => {
                console.log('App installed successfully');
                installBanner.style.display = 'none';
                deferredPrompt = null;
            });
        }

        // Download the app as a ZIP file
        function downloadAsApp() {
            // Create the manifest.json content
            const manifestContent = {
                "name": "Cameroonian Kitchen Recipe Finder",
                "short_name": "Cam Recipes",
                "description": "Discover authentic Cameroonian meals using ingredients you have at home",
                "start_url": ".",
                "display": "standalone",
                "background_color": "#f8f5f0",
                "theme_color": "#e34f26",
                "icons": [
                    {
                        "src": "icon-192.png",
                        "sizes": "192x192",
                        "type": "image/png"
                    },
                    {
                        "src": "icon-512.png",
                        "sizes": "512x512",
                        "type": "image/png"
                    }
                ]
            };
            
            // Create the service worker content
            const serviceWorkerContent = `
// Simple service worker for Cameroonian Kitchen App
const CACHE_NAME = 'cameroonian-kitchen-v1';
const urlsToCache = [
  '.',
  'index.html',
  'manifest.json'
];

self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(urlsToCache))
  );
});

self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
            `;
            
            // Create the README file content
            const readmeContent = `# Cameroonian Kitchen Recipe Finder

## How to Install on Android

### Method 1: Install as PWA (Progressive Web App)
1. Open the index.html file in Chrome browser
2. Tap the menu (three dots) in the top right
3. Select "Add to Home screen" or "Install app"
4. Follow the prompts to install

### Method 2: Use a PWA Wrapper App
1. Install "PWA Builder" or "WebApp" from Google Play Store
2. Open the wrapper app and point it to the index.html file
3. The app will create an installable APK

### Features:
- Find authentic Cameroonian recipes based on ingredients you have
- 8 traditional recipes included
- Works completely offline
- No internet connection required after installation

### Notes:
- This app works best on Android 5.0+
- All data is stored locally on your device
- No permissions required

Enjoy cooking authentic Cameroonian meals!`;
            
            // Get the current HTML content
            const htmlContent = document.documentElement.outerHTML;
            
            // Create a ZIP file using JSZip (we'll use a data URI instead since we can't include JSZip)
            // For simplicity, we'll offer HTML download and instructions for manual ZIP creation
            alert("To create a complete app package:\n\n1. Save this HTML file\n2. Create a folder called 'CameroonianKitchenApp'\n3. Add the HTML file (rename to index.html)\n4. Create manifest.json and service-worker.js using the code provided in the instructions\n5. Compress the folder to ZIP and transfer to your phone\n\nOr use the 'Save HTML Only' option and follow instructions.");
            
            // Download HTML file
            downloadFile(htmlContent, "CameroonianKitchenApp.html", "text/html");
        }

        // Download a file
        function downloadFile(content, filename, type) {
            const blob = new Blob([content], { type });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Show download instructions modal
        function showDownloadModal() {
            downloadModal.style.display = 'flex';
        }

        // Hide download instructions modal
        function hideDownloadModal() {
            downloadModal.style.display = 'none';
        }

        // Install as PWA
        function installAsPWA() {
            if (deferredPrompt) {
                // Show the install prompt
                deferredPrompt.prompt();
                
                // Wait for the user to respond to the prompt
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    } else {
                        console.log('User dismissed the install prompt');
                    }
                    deferredPrompt = null;
                });
            } else {
                // If deferredPrompt isn't available, show the download modal
                showDownloadModal();
            }
        }

        // Set up event listeners
        function setupEventListeners() {
            findRecipesBtn.addEventListener('click', findRecipes);
            clearAllBtn.addEventListener('click', clearAllIngredients);
            downloadAppBtn.addEventListener('click', showDownloadModal);
            closeModalBtn.addEventListener('click', hideDownloadModal);
            saveAsAppBtn.addEventListener('click', downloadAsApp);
            saveHTMLBtn.addEventListener('click', () => {
                const htmlContent = document.documentElement.outerHTML;
                downloadFile(htmlContent, "CameroonianKitchenRecipeFinder.html", "text/html");
            });
            installAppBtn.addEventListener('click', installAsPWA);
            
            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === downloadModal) {
                    hideDownloadModal();
                }
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>


</body></html>